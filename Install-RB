Steps used to install/configure Hudson Alpha skills droplets

000 - Create DigitalOcean CentOS Droplet for linux workspace
      
      OS          = CentOS 7.3.1611 x64
      CPU         = 1
      RAM         = 512M
      SSD         = 20G
      Net         = 1G
      Region      = New York
      Data Center = 1
      SSH Keys (Next Step 001)
      Choose a hostname
      Click [create]
         (wait a few min for the server to finish installing)
      When the droplet server is finished copy the IP address (you will need it for step 002)
      
001 - Create Public/Private Keys

      Open puttygen
      - verify SSH-2 RSA is default
      - click [Generate]
          - will ask you to generate random vaules with mouse
              - when finished and the key is generated enter in the passphrase and confirm the passphrase
      - Save the public and private key (remember the path you saved these two files)
      - Add the public key into the SSH keys into the previous step
       
002 - Add new server to putty

      Open putty
      - In the "Host Name (or IP address)" add the IP address from step 000
          root@IP-address
       -> Under Connection (left side window)
              Under SSH
                   Under Auth
                        click on [Browse] and point to the private key you saved from step 001
      - Click on Session at the top left of the putty window
      - In the Saved Sessions box enter a easy to remember name for this host
      - Click on [Save]
 
003 - Connect to new virtual server

      Open putty
      - Select saved config from step 002 in the Saved Sessions and click [Load]
          click [Open]
            This will open a connection to the virtual server
              NOTE: select [yes] if it asks you about a new key set
      - Use the passphrase generated from step 001
      - This will give you access to the virtual server
          
004 - Download doctl (DigitalOcean's command line client)

      - Download doctl from GitHub
      #wget https://github.com/digitalocean/doctl/releases/download/v1.4.0/doctl-1.4.0-linux-amd64.tar.gz
      - Extract the tar file
      #tar xf ~/doctl-1.4.0-linux-amd64.tar.gz
      - Move the file to the working folder
      #mv ~/doctl /usr/local/bin
      #cd cd /usr/local/bin
      - Verify operation of doctl command tool (this command will display current droplets)
      #doctl compute droplet list
      
005 - Enter in the API TOKEN

      - Run command to enter in the API TOKEN (will prompt you when command is run)
      #doctl auth init
            DigitalOcean access token:API TOKEN
            Validating token: OK
      NOTE: The location of the token/config file created is in this directory 
	      ~/.config/doctl/config.yaml
            
006 - Create a new SSH key (for new servers that will be created using the doctl tool)

     - Run the following commands and take all of the defaults	
     #cd ~/.ssh
     #ssh-keygen -t rsa 
     
     NOTE: 	This will create a two files in the ~/.ssh folder
		id_rsa   	= private key
		id_rsa.pub	= public key
      
007 - Optional - use this step if you have problem with doctl seeing your local ssh key 

     - Upload the key to Digital Ocean
     - Go to the digital ocean site and click on settings (drop down next to your avatar)
     - This will bring you to the main settings page
     - Click on Security
	create new SSH key
     - From the server you created the key run this command		
       #cat ~/.ssh/id_rsa.pub
     - Cut and paste the public key into the field and then give it a name
     - Verify the new key can be seen using the doctl command
       #doctl compute ssh-key list
       ID      Name    FingerPrint
       5757616 RB-key  d2:5a:ef:a6:11:0a:70:e5:45:21:71:e3:ab:bb:34:74
       5783497 K2      42:cf:a6:c5:cf:0e:cb:49:93:6a:74:b9:fe:96:1d:00
       5885086 uno     ee:51:af:65:44:16:15:e1:ac:f6:f2:4a:8d:ad:4b:c3
      
008 - Create a new virtual server PART I (pre-step)

     - To find variables for the doctl file use the following commands (use the SLUG name for the command line)
     
     - Lists RAM size and price options
       #doctl compute size list
     - Lists current images avaliable for install
       #doctl compute image list
     - Lists Region/DataCenter  
       #doctl compute region list
       
009 - Create a new virtual server PART II (create-step)

     - Use the above steps to have correct information to create the doctl new server command
     - In this example I will be using information from steps 007 and 008 to generate the command
     NOTE: create = servername
     #doctl compute droplet create test1 --size 512mb --region nyc1 --image centos-7-x64 --ssh-keys 5885086
 
010 - Login to new droplet

     - To display current droplets run this command 
     #doctl compute droplet list
     ID              Name    Public IPv4     Public IPv6     Memory  VCPUs   Disk    Region  Image                   Status  Tags
     36883719        R2B2    67.205.131.38                   512     1       20      nyc1    CentOS 7.3.1611 x64     active
     37278268        test1   198.199.74.247                  512     1       20      nyc1    CentOS 7.3.1611 x64     active

     - Use the doctl command to ssh into the new server
     #doctl compute ssh test1
     
011 - Config new Droplet to sign-in without password

     - Copy the pubilc key to the new host
     #scp id_rsa.pub $USER@198.199.74.247:~/.ssh/authorized_keys
     
     - SSH to new host to update configs
     #vi /etc/ssh/sshd_config
     	change the field from
	#PermitRootLogin yes 
	to
	PermitRootLogin without-password

012 - Create the wannabe account

     - Run the following commands
     - SSH to the new server
     #doctl compute ssh test1
     #useradd wannabe
     #passwd wannabe
     	password = P@ssw0rd

013 - Change time zone to central 

     - Run the following commands     
     # mv /etc/localtime /etc/localtime.bak      
     # ln -s /usr/share/zoneinfo/America/Chicago /etc/localtime
     - Run the date command to confirm correct time zone
     #date
     
014 - Setup the ntp service
      
     - Run the following commands
     # yum -y install ntp
     - Edit the ntp file
     # vi /etc/ntp.conf
     - Comment out the following:
       #server 0.centos.pool.ntp.org iburst
       #server 1.centos.pool.ntp.org iburst
       #server 2.centos.pool.ntp.org iburst
       #server 3.centos.pool.ntp.org iburst
     - Add the following servers below the commented out lines
       server 0.pool.ntp.org
       server 1.pool.ntp.org
       server 2.pool.ntp.org
       server 3.pool.ntp.org

     save and exit
     
    - Run the following commands to sync ntp and start the ntpd service
      #service ntpd stop
      #ntpdate pool.ntp.org
      #service ntpd start
      #chkconfig ntpd on
      
015 - Create Script to display current date and time every 10 seconds
  
   - Run the following commands
     #cd /usr/local/bin
     #vi t10.sh 
      while true ; do date & sleep 10; done
    
    save and exit

   - Run the following command to test shell script (should display time and date every 10 seconds)
    #sh /usr/local/bin/th10.sh
        
016 - Install Docker Engine Part I (create repo)

    - Create the following file in /etc/yum.repos.d
    #touch docker.repo
    Add lines into following file
    #vi docker.repo
	[dockerrepo]
	name=Docker Repository
	baseurl=https://yum.dockerproject.org/repo/main/centos/7/	
	enabled=1
	gpgcheck=1
	gpgkey=https://yum.dockerproject.org/gpg

017 - Install Docker Engine Part II (install Docker)

    - Run command to install docker
     #systemctl enable docker.service
    - Run command to start docker
     #systemctl start docker
     
018 - Confirm docker is working 

# docker run docker/whalesay cowsay boo
Unable to find image 'docker/whalesay:latest' locally
latest: Pulling from docker/whalesay
e190868d63f8: Pull complete
909cd34c6fd7: Pull complete
0b9bfabab7c1: Pull complete
a3ed95caeb02: Pull complete
00bf65475aba: Pull complete
c57b6bcc83e3: Pull complete
8978f6879e2f: Pull complete
8eed3712d2cf: Pull complete
Digest: sha256:178598e51a26abbc958b8a2e48825c90bc22e641de3d31e18aaf55f3258ba93b
Status: Downloaded newer image for docker/whalesay:latest
 _____
< boo >
 -----
    \
     \
      \
                    ##        .
              ## ## ##       ==
           ## ## ## ##      ===
       /""""""""""""""""___/ ===
  ~~~ {~~ ~~~~ ~~~ ~~~~ ~~ ~ /  ===- ~~~
       \______ o          __/
        \    \        __/
          \____\______/
	  
   - Check docker images
   #docker images
   REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
   hello-world         latest              48b5124b2768        2 days ago          1.84 kB
   docker/whalesay     latest              6b362a9f73eb        20 months ago       247 MB
   
   019 - Create a Docker container
   
   List current Docker images
   #docker images
   REPOSITORY          TAG                 IMAGE ID            CREATED             SIZE
   hello-world         latest              48b5124b2768        2 days ago          1.84 kB
   debian              latest              19134a8202e7        4 weeks ago         123 MB
   docker/whalesay     latest              6b362a9f73eb        20 months ago       247 MB

   
   Create New Docker container using the debian IMAGE ID from above list
   #docker run -i -t 19134a8202e7 /bin/bash
